<%- include ("partials/header.ejs") %>

<div class="container search-container">

    <input
      type="text"
      type="submit"
      name="region-form"
      id="search"
      placeholder="Search for a country..."
    />
 
<form action="/regionSelector" id="selectRegion" method="GET">
  <select name="selectRegion" id="select-region" form="selectRegion" onchange="this.form.submit()">
    <option value="" disabled selected>Filter By Region</option>
    <option value="Africa">Africa</option>
    <option value="Americas">Americas</option>
    <option value="Asia">Asia</option>
    <option value="Europe">Europe</option>
    <option value="Oceania">Oceania</option>
    <option value="Polar">Polar</option>
  </select>
</form>

</div>

<div class="container">
  <div id="country-container" class="country-container">
   
    <% countries.forEach( country => { %>
      <form action="/region" method="GET" id=<%= country["name"]%> >
    <div class="card" onclick="this.parentNode.submit()">
      <input value=<%= country["name"]%> type="hidden" form=<%= country["name"] %> name=<%= country["name"] %>/>
      <img src=<%=country["flag"] %> alt=<%= country["name"]%> />
      <h3><%= country["name"]%></h3>
      <span>Population: <%= country["population"]%></span>
      <span>Region: <%= country["region"]%></span>
      <span>Capital: <%= country["capital"]%></span>
    </div>
  </form>
    <% }) %>
  
  </div>
</div>

<%- include ("partials/footer.ejs") %>
